import{l as D,f as j,D as J,d as Q,s as b,c as f,b as s,y as E,F as R,r as U,a as I,h as C,T as F,w as g,z as W,B as _,k as i,P as B,t as r,e as K,E as Y,o as d,I as X,G as Z,_ as ee}from"./index-D7swVE7l.js";import{A as te}from"./AccordionSingle-EpXxMTw6.js";function se(o=2e3){const c=D(!0),u=D(!1);let v=null;function a(){u.value||(c.value=!0),w()}function t(){u.value||(c.value=!1),m()}function w(){m(),v=setTimeout(()=>{u.value||(c.value=!1)},o)}function m(){v&&clearTimeout(v)}return j(()=>{document.addEventListener("mousemove",a),document.addEventListener("mouseenter",a),document.addEventListener("mouseleave",t)}),J(()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseenter",a),document.removeEventListener("mouseleave",t),m()}),{isVisible:c,onMouseEnter:()=>{u.value=!0,c.value=!0,m()},onMouseLeave:()=>{u.value=!1,w()}}}const ne=["per-row"],le={class:"image-name"},oe={class:"image-number"},ae={key:0,class:"fullscreen-view"},re={class:"fullscreen-view-controls"},ue={class:"flex"},ie={class:"flex"},de=["src","alt"],ce={class:"fullscreen-view-details"},ve={class:""},me={key:0,class:"alt-text-section"},fe={key:0,class:"links-section"},ge=["href"],we="https://raw.githubusercontent.com/Oktalon-Szoradi/oktalon-szoradi.github.io/refs/heads/legacy/img",pe=Q({__name:"ImageGallery",props:{src:{},squareImages:{type:Boolean},perRow:{default:5},legacyImages:{type:Boolean},noDownload:{type:Boolean},downloadExt:{}},setup(o){const{isVisible:c,onMouseEnter:u,onMouseLeave:v}=se(3e3),a=o,t=D(null),w=b(()=>t.value?a.src.findIndex(n=>{var e;return n.src===((e=t.value)==null?void 0:e.src)}):-1),m=b(()=>{if(!t.value)return"";if(a.legacyImages){const n=t.value.src.split("/"),e=n[n.length-1],k=".50.webp",y=e.includes(k)?e.split(k)[0]:e.split(".webp")[0];return`${we}/${n[n.length-2]}/${y}.${a.downloadExt}`}return t.value.src}),M=b(()=>{if(!t.value)return"";const n=t.value.src.split(".");return n[n.length-1]});function p(n){typeof n=="number"?t.value=a.src[n]:t.value=n}function A(){const n=w.value-1;if(n<0){p(a.src.length-1);return}p(n)}function $(){const n=w.value+1;if(n>=a.src.length){p(0);return}p(n)}function N(){t.value=null}return document.addEventListener("keydown",n=>{if(t.value)switch(n.key){case"ArrowLeft":A();break;case"ArrowRight":$();break;case"Escape":N();break}}),(n,e)=>{var k,y,T,P,S,V,G,z;return d(),f("div",null,[s("div",{class:"images","per-row":o.perRow},[(d(!0),f(R,null,U(o.src,(l,x)=>(d(),C(Z,{class:"no-top-margin image-card",key:x,onClick:h=>p(l)},{default:g(()=>[I(X,{class:Y(o.squareImages?"square-image":""),src:l.src??"",alt:l.alt},null,8,["class","src","alt"]),s("p",le,r(l.name),1),s("p",oe,r(x+1)+"/"+r(o.src.length),1)]),_:2},1032,["onClick"]))),128))],8,ne),t.value?(d(),f("div",ae,[s("div",re,[I(F,{name:"gentle-fade"},{default:g(()=>[W(s("div",{class:"control previous",onMouseenter:e[1]||(e[1]=(...l)=>i(u)&&i(u)(...l)),onMouseleave:e[2]||(e[2]=(...l)=>i(v)&&i(v)(...l))},[s("div",{onClick:e[0]||(e[0]=l=>A())},[...e[7]||(e[7]=[s("code",null,"<-",-1)])])],544),[[_,i(c)]])]),_:1}),I(F,{name:"gentle-fade"},{default:g(()=>[W(s("div",{class:"control next",onMouseenter:e[4]||(e[4]=(...l)=>i(u)&&i(u)(...l)),onMouseleave:e[5]||(e[5]=(...l)=>i(v)&&i(v)(...l))},[s("div",{onClick:e[3]||(e[3]=l=>$())},[...e[8]||(e[8]=[s("code",null,"->",-1)])])],544),[[_,i(c)]])]),_:1}),I(B,{class:"close",color:"red",onClick:e[6]||(e[6]=l=>N())},{default:g(()=>[...e[9]||(e[9]=[s("span",{class:"icon"},"✕",-1)])]),_:1}),!o.noDownload&&o.downloadExt?(d(),C(B,{key:0,class:"download",color:"purple",href:m.value},{default:g(()=>[s("span",ue,[e[10]||(e[10]=s("code",{class:"icon"},"↓",-1)),s("span",null,"Download "+r(o.downloadExt.toUpperCase()),1)])]),_:1},8,["href"])):E("",!0),!o.noDownload&&!o.downloadExt?(d(),C(B,{key:1,class:"download",color:"purple-desat",href:m.value},{default:g(()=>[s("span",ie,[e[11]||(e[11]=s("code",{class:"icon"},"↓",-1)),s("span",null,"Download "+r(M.value.toUpperCase()),1)])]),_:1},8,["href"])):E("",!0)]),s("img",{class:"fullscreen-view-image",src:((k=t.value)==null?void 0:k.src)??"",alt:(y=t.value)==null?void 0:y.alt},null,8,de),s("div",ce,[s("code",null,r(w.value+1),1),e[12]||(e[12]=K("/",-1)),s("code",null,r(o.src.length),1),s("h1",null,r((T=t.value)==null?void 0:T.name),1),s("div",ve,[s("code",null,r((P=t.value)==null?void 0:P.date),1),(S=t.value)!=null&&S.alt&&((V=t.value)==null?void 0:V.name)!==((G=t.value)==null?void 0:G.alt)||(z=t.value)!=null&&z.links?(d(),f("div",me,[I(te,{class:"alt-text",title:"Show details","open-title":"Hide details"},{default:g(()=>{var l,x,h,H,q,O;return[K(r((l=t.value)==null?void 0:l.alt)+" ",1),(x=t.value)!=null&&x.links?(d(),f("div",fe,[s("p",{class:Y(!((h=t.value)!=null&&h.alt)||((H=t.value)==null?void 0:H.name)===((q=t.value)==null?void 0:q.alt)?"no-top-margin":"")}," Links: ",2),s("ul",null,[(d(!0),f(R,null,U((O=t.value)==null?void 0:O.links,L=>(d(),f("li",{key:L},[s("a",{href:L,target:"_blank"},[s("code",null,r(L),1)],8,ge)]))),128))])])):E("",!0)]}),_:1})])):E("",!0)])])])):E("",!0)])}}}),Ee=ee(pe,[["__scopeId","data-v-8c60cd15"]]);export{Ee as I};
